{"is_source_file": true, "format": "JavaScript (React component)", "description": "This file defines a React component 'SpotChart' that renders a bar chart visualizing the most visited surf spots using the 'recharts' library, with dynamic responsiveness and custom styling.", "external_files": ["../../utils/chartUtils"], "external_methods": ["truncateText", "calculateBarSize", "shouldRotateLabels", "getLabelRotation", "getTickInterval", "shouldShowLabels"], "published": ["SpotChart"], "classes": [], "methods": [{"name": "SpotChart", "description": "React functional component that displays a responsive bar chart of surf spot visit data with legends, tooltips, and adaptive layout."}], "calls": ["useRef", "useState", "useEffect", "slice", "map", "truncateText", "calculateBarSize", "shouldRotateLabels", "getLabelRotation", "getTickInterval", "shouldShowLabels"], "search-terms": ["SpotChart", "recharts", "responsive bar chart", "surf spots visualization", "dynamic labels", "chartUtils", "React"], "state": 2, "file_id": 24, "knowledge_revision": 164, "git_revision": "5ff662c0c09988f5751b60bacf6af686c4178ad4", "revision_history": [{"49": "ebc333f25a200780473873af4d23894ae7c380ad"}, {"146": "9701a7985d899fda3f31cee83ce127d235e4926f"}, {"158": "2799c1cb8c37e5de19e2be971efac823a32605cb"}, {"163": "f95665e9ef4ccb89a473234ff0c084218dc47b23"}, {"164": "5ff662c0c09988f5751b60bacf6af686c4178ad4"}], "ctags": [{"_type": "tag", "name": "0", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^          x={0} $/", "language": "JavaScript", "kind": "field", "scope": "x", "scopeKind": "class"}, {"_type": "tag", "name": "0", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^          y={0} $/", "language": "JavaScript", "kind": "field", "scope": "y", "scopeKind": "class"}, {"_type": "tag", "name": "10", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^            tickMargin={10}$/", "language": "JavaScript", "kind": "field", "scope": "tickMargin", "scopeKind": "class"}, {"_type": "tag", "name": "1500", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^            animationDuration={1500}$/", "language": "JavaScript", "kind": "field", "scope": "animationDuration", "scopeKind": "class"}, {"_type": "tag", "name": "CHART_CONTAINER_STYLE", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^      style={CHART_CONTAINER_STYLE.default}$/", "language": "JavaScript", "kind": "field", "scope": "style", "scopeKind": "class"}, {"_type": "tag", "name": "CustomXAxisTick", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^            tick={CustomXAxisTick}$/", "language": "JavaScript", "kind": "field", "scope": "tick", "scopeKind": "class"}, {"_type": "tag", "name": "CustomXAxisTick", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^  const CustomXAxisTick = ({ x, y, payload }) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "SpotChart", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^const SpotChart = ({ data }) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "TOOLTIP_STYLE", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^            contentStyle={TOOLTIP_STYLE.light}$/", "language": "JavaScript", "kind": "field", "scope": "contentStyle", "scopeKind": "class"}, {"_type": "tag", "name": "[4, 4, 0, 0]", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^            radius={[4, 4, 0, 0]}$/", "language": "JavaScript", "kind": "field", "scope": "radius", "scopeKind": "class"}, {"_type": "tag", "name": "barSize", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^            barSize={barSize}$/", "language": "JavaScript", "kind": "field", "scope": "barSize", "scopeKind": "class"}, {"_type": "tag", "name": "barSize", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^  const barSize = calculateBarSize(chartData.length, containerWidth);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "chartData", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^          data={chartData}$/", "language": "JavaScript", "kind": "field", "scope": "data", "scopeKind": "class"}, {"_type": "tag", "name": "chartData", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^  const chartData = data.slice(0, spotLimit).map(item => ({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "containerRef", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^        ref={containerRef}$/", "language": "JavaScript", "kind": "field", "scope": "ref", "scopeKind": "class"}, {"_type": "tag", "name": "containerRef", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^      ref={containerRef}$/", "language": "JavaScript", "kind": "field", "scope": "ref", "scopeKind": "class"}, {"_type": "tag", "name": "containerRef", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^  const containerRef = useRef(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "containerWidth", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^          barCategoryGap={containerWidth < 500 ? \"10%\" : \"15%\"}$/", "language": "JavaScript", "kind": "field", "scope": "barCategoryGap", "scopeKind": "class"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^const SpotChart = ({ data }) => {$/", "language": "JavaScript", "kind": "field", "scope": "SpotChart", "scopeKind": "class"}, {"_type": "tag", "name": "false", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^            allowDecimals={false} $/", "language": "JavaScript", "kind": "field", "scope": "allowDecimals", "scopeKind": "class"}, {"_type": "tag", "name": "false", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^            vertical={false} $/", "language": "JavaScript", "kind": "field", "scope": "vertical", "scopeKind": "class"}, {"_type": "tag", "name": "labelFontSize", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^          fontSize={labelFontSize}$/", "language": "JavaScript", "kind": "field", "scope": "fontSize", "scopeKind": "class"}, {"_type": "tag", "name": "labelFontSize", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^    const labelFontSize = FONT_SIZES.getResponsive(FONT_SIZES.small, containerWidth);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "margins", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^          margin={margins}$/", "language": "JavaScript", "kind": "field", "scope": "margin", "scopeKind": "class"}, {"_type": "tag", "name": "margins", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^  const margins = CHART_MARGINS.getResponsive($/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "rotateLabels", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^            height={rotateLabels ? 60 : 40}$/", "language": "JavaScript", "kind": "field", "scope": "height", "scopeKind": "class"}, {"_type": "tag", "name": "rotateLabels", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^            tickMargin={rotateLabels ? 15 : 10}$/", "language": "JavaScript", "kind": "field", "scope": "tickMargin", "scopeKind": "class"}, {"_type": "tag", "name": "rotateLabels", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^          dx={rotateLabels ? -5 : 0}$/", "language": "JavaScript", "kind": "field", "scope": "dx", "scopeKind": "class"}, {"_type": "tag", "name": "rotateLabels", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^          dy={rotateLabels ? 5 : 16} $/", "language": "JavaScript", "kind": "field", "scope": "dy", "scopeKind": "class"}, {"_type": "tag", "name": "rotateLabels", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^          textAnchor={rotateLabels ? \"end\" : \"middle\"}$/", "language": "JavaScript", "kind": "field", "scope": "textAnchor", "scopeKind": "class"}, {"_type": "tag", "name": "rotateLabels", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^          transform={rotateLabels ? `rotate(${rotationAngle})` : undefined}$/", "language": "JavaScript", "kind": "field", "scope": "transform", "scopeKind": "class"}, {"_type": "tag", "name": "rotateLabels", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^  const rotateLabels = shouldRotateLabels(chartData.length, containerWidth);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "rotationAngle", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^  const rotationAngle = getLabelRotation($/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setContainerWidth", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^  const [containerWidth, setContainerWidth] = useState(0);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "showDataLabels", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^  const showDataLabels = shouldShowLabels(chartData.length, containerWidth, barSize);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "spotLimit", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^  const spotLimit = containerWidth < 350 ? 4 : $/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "tickInterval", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^            interval={tickInterval}$/", "language": "JavaScript", "kind": "field", "scope": "interval", "scopeKind": "class"}, {"_type": "tag", "name": "tickInterval", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^  const tickInterval = getTickInterval(chartData.length, containerWidth);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "tooltipFormatter", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^            formatter={tooltipFormatter}$/", "language": "JavaScript", "kind": "field", "scope": "formatter", "scopeKind": "class"}, {"_type": "tag", "name": "tooltipFormatter", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^  const tooltipFormatter = (value, name, props) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "translate(${x},${y})", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^      <g transform={`translate(${x},${y})`}>$/", "language": "JavaScript", "kind": "field", "scope": "AnonymousClasse07e840b0101", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "pattern": "/^  const CustomXAxisTick = ({ x, y, payload }) => {$/", "language": "JavaScript", "kind": "field", "scope": "CustomXAxisTick", "scopeKind": "class"}], "filename": "/home/kavia/workspace/code-generation/surfsense-94965-94972/main_container_for_surfsense/src/components/charts/SpotChart.js", "hash": "b6f0c7e93552a50bd4b8bc0057785a24", "format-version": 4, "code-base-name": "default", "fields": [{"name": "x={0}", "scope": "x", "scopeKind": "class", "description": "unavailable"}, {"name": "y={0}", "scope": "y", "scopeKind": "class", "description": "unavailable"}, {"name": "tickMargin={10}", "scope": "tickMargin", "scopeKind": "class", "description": "unavailable"}, {"name": "animationDuration={1500}", "scope": "animationDuration", "scopeKind": "class", "description": "unavailable"}, {"name": "style={CHART_CONTAINER_STYLE.default}", "scope": "style", "scopeKind": "class", "description": "unavailable"}, {"name": "tick={CustomXAxisTick}", "scope": "tick", "scopeKind": "class", "description": "unavailable"}, {"name": "contentStyle={TOOLTIP_STYLE.light}", "scope": "contentStyle", "scopeKind": "class", "description": "unavailable"}, {"name": "radius={[4, 4, 0, 0]}", "scope": "radius", "scopeKind": "class", "description": "unavailable"}, {"name": "barSize={barSize}", "scope": "barSize", "scopeKind": "class", "description": "unavailable"}, {"name": "data={chartData}", "scope": "data", "scopeKind": "class", "description": "unavailable"}, {"name": "ref={containerRef}", "scope": "ref", "scopeKind": "class", "description": "unavailable"}, {"name": "barCategoryGap={containerWidth < 500 ? \"10%\" : \"15%\"}", "scope": "barCategoryGap", "scopeKind": "class", "description": "unavailable"}, {"name": "const SpotChart = ({ data }) => {", "scope": "SpotChart", "scopeKind": "class", "description": "unavailable"}, {"name": "allowDecimals={false}", "scope": "allowDecimals", "scopeKind": "class", "description": "unavailable"}, {"name": "vertical={false}", "scope": "vertical", "scopeKind": "class", "description": "unavailable"}, {"name": "fontSize={labelFontSize}", "scope": "fontSize", "scopeKind": "class", "description": "unavailable"}, {"name": "margin={margins}", "scope": "margin", "scopeKind": "class", "description": "unavailable"}, {"name": "height={rotateLabels ? 60 : 40}", "scope": "height", "scopeKind": "class", "description": "unavailable"}, {"name": "tickMargin={rotateLabels ? 15 : 10}", "scope": "tickMargin", "scopeKind": "class", "description": "unavailable"}, {"name": "dx={rotateLabels ? -5 : 0}", "scope": "dx", "scopeKind": "class", "description": "unavailable"}, {"name": "dy={rotateLabels ? 5 : 16}", "scope": "dy", "scopeKind": "class", "description": "unavailable"}, {"name": "textAnchor={rotateLabels ? \"end\" : \"middle\"}", "scope": "textAnchor", "scopeKind": "class", "description": "unavailable"}, {"name": "transform={rotateLabels ? `rotate(${rotationAngle})` : undefined}", "scope": "transform", "scopeKind": "class", "description": "unavailable"}, {"name": "interval={tickInterval}", "scope": "interval", "scopeKind": "class", "description": "unavailable"}, {"name": "formatter={tooltipFormatter}", "scope": "formatter", "scopeKind": "class", "description": "unavailable"}, {"name": "<g transform={`translate(${x},${y})`}>", "scope": "AnonymousClasse07e840b0101", "scopeKind": "class", "description": "unavailable"}, {"name": "const CustomXAxisTick = ({ x, y, payload }) => {", "scope": "CustomXAxisTick", "scopeKind": "class", "description": "unavailable"}]}